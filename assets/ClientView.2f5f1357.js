import{d as Ye,u as Pe,r as p,c as f,a as oe,o as Le,g as _e,b as le,e as Ie,f as te,w as q,h as Ue,i as k,j as I,k as u,l as t,m as s,_ as be,n as h,p as Me,q as xe,t as H,F as de,s as Ce,v as T,x as X,y as Fe,z as d,A as b,B as N,C as $e,D as Ae,E as Be,G as ve,H as Oe,I as Ne,J as Se,K as He,L as pe,M as qe,N as je,O as Ge,P as Re,Q as Te,R as De,S as Ee,T as We,U as Ke,V as Je,W as ze,X as Qe,Y as z,Z as R,$ as Xe,a0 as ce,a1 as Ze,a2 as ea,a3 as me,a4 as Q,a5 as aa,a6 as na,a7 as la,a8 as ta,a9 as da,aa as oa,ab as sa,ac as ia}from"./index.0a1cae06.js";import{_ as ra}from"./FormCheckRadioGroup.vue_vue_type_script_setup_true_lang.c5b78953.js";const ua={class:"modal-dialog modal-md relative w-auto pointer-events-none border-4 border-indigo-500/100"},ca={class:"modal-content border-none shadow-sm relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current"},ma=u("div",{class:"modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md"},[u("h5",{class:"text-xl font-medium leading-normal text-gray-800",id:"exampleModalLgLabel"}," Refer Patient "),u("button",{type:"button",class:"btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_a={class:"modal-body relative p-4"},ba={key:0,class:"p-3 bg-gray-100/50 dark:bg-slate-800"},pa={key:0},va=u("th",null,null,-1),fa=u("th",null,"Name",-1),ga=u("th",null,"Municipality",-1),ha=u("th",null,"Barangay",-1),ya=u("th",null,"Created",-1),wa=u("th",null,null,-1),Va={class:"border-b-0 lg:w-6 before:hidden"},ka={"data-label":"Name"},Ca={"data-label":"Company"},Ma={"data-label":"City"},xa={"data-label":"Created",class:"lg:w-1 whitespace-nowrap"},Da=["title"],Ya=u("br",null,null,-1),Pa={class:"text-gray-400 dark:text-slate-400"},La={class:"before:hidden lg:w-1 whitespace-nowrap"},Ua={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"},Sa=Ye({__name:"TableClients",props:{checkable:Boolean,search_keyword:{type:String,default:null},form:{type:Object,default:null}},emits:["client-info"],setup(F,{emit:E}){const Z=F,D=Pe(),$=p([]),_=f(()=>$.value),ee=p(!1),W=p(!1),j=p(10),V=p(0),Y=p([]),a=oe({client_id:0,client_name:""}),fe=f(()=>_.value.slice(j.value*V.value,j.value*(V.value+1))),se=f(()=>Math.ceil(_.value.length/j.value)),n=f(()=>V.value+1),g=f(()=>{const c=[];for(let r=0;r<se.value;r++)c.push(r);return c}),K=(c,r)=>{const v=[];return c.forEach(y=>{r(y)||v.push(y)}),v},U=(c,r)=>{c?Y.value.push(r):Y.value=K(Y.value,v=>v.id===r.id)};oe({name:"John Doe",email:"john.doe@example.com",phone:"",barangay:[{id:1,label:"Lahug"},{id:2,label:"Sambag II"},{id:3,label:"Day-as"}][0],subject:"",question:""});const C=p(0),M=p(0),B=p([]),G=p([]),P=p(null),ie=p(null);Le(()=>{ge(),he(),ae(),P.value=new Modal(ie.value)});const ae=async(c={})=>{if(!c.search){const v=await _e({userid:le().value});c={barangay_assignment:await Promise.all(v.map(async w=>w.id))}}const r=await Ie(c);$.value=await Promise.all(r.map(async v=>({...v})))},ge=async()=>{const c=await _e({userid:le().value});B.value=await Promise.all(c.map(async r=>({id:r.id,label:r.description})))},he=async()=>{const c=await _e({userid:le().value}),r=await Promise.all(c.map(async w=>w.id)),v=await te(),y=await Promise.all(v.map(async w=>{if(!r.includes(w.id))return{id:w.id,label:w.description}}));G.value=y.filter(w=>typeof w=="object")},ye=async(c,r)=>{a.client_id=c,a.client_name=r,W.value=!0},we=async()=>{$.value=$.value.filter(c=>c.id!==a.client_id),await Be({id:a.client_id}),ve({group:"error",title:"Warning",text:a.client_name+" was successfully deleted"},2e3)},J=c=>{E("client-info",c)},Ve=f(()=>Z.search_keyword);q(Ve,c=>{console.log("search keyword"),ae({search:c,created_by:le().value})});const ne=f(()=>Z.form);q(ne,c=>{c.status=="updated"?$.value.filter(r=>{r.id==c.id&&(r.firstname=c.firstname,r.middlename=c.middlename,r.lastname=c.lastname,r.client_barangay=c.client_barangay,r.muncity_description=c.muncity_description)}):$.value.unshift(c)});const O=p(""),re=async()=>{var w;const c=B.value.filter(l=>l.id===C.value),r=G.value.filter(l=>l.id===M.value),v={Client:[ue.value.id],client_id:ue.value.id,code:b().format("YYYY")+"-"+D.userId+b().format("MMDDHHmmss")+String(Math.random()).substring(0,3).split(".").join(""),date_referred:b().format("YYYY-MM-DD HH:mm:ss"),referred_from:C.value,referred_from_address:c[0].label,referred_to:M.value,referred_to_address:r[0].label,referring_id:D.userId,referring_name:D.userFirstname+" "+D.userMiddlename+" "+D.userLastname,remarks:O.value,status:"referred",created_on:b().format("YYYY-MM-DD HH:mm:ss")},y=await Oe(v);v.Activity=[y.id],await Ne(v),(w=P.value)==null||w.hide(),ve({group:"success",title:"success",text:"Client was successfully referred!"},2e3),O.value=""},ue=p({});return Ue(),(c,r)=>{const v=Se,y=He,w=pe;return k(),I(de,null,[u("div",{class:"modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto","data-bs-backdrop":"static",ref_key:"el_refer_modal",ref:ie,id:"referModal","aria-labelledby":"exampleModalLgLabel","aria-modal":"true",role:"dialog"},[u("div",ua,[u("div",ca,[ma,u("div",_a,[t(w,{"is-form":"",onSubmit:Me(re,["prevent"])},{default:s(()=>[t(y,{label:"Referring Facility",class:"mt-6"},{default:s(()=>[t(v,{modelValue:C.value,"onUpdate:modelValue":r[0]||(r[0]=l=>C.value=l),options:B.value},null,8,["modelValue","options"])]),_:1}),t(y,{label:"Referred Facility",class:"mt-6"},{default:s(()=>[t(v,{modelValue:M.value,"onUpdate:modelValue":r[1]||(r[1]=l=>M.value=l),options:G.value},null,8,["modelValue","options"])]),_:1}),t(y,{label:"Remarks"},{default:s(()=>[t(v,{modelValue:O.value,"onUpdate:modelValue":r[2]||(r[2]=l=>O.value=l),type:"textarea"},null,8,["modelValue"])]),_:1}),t(be,null,{default:s(()=>[t(h,{type:"submit",color:"success",label:"Refer"}),t(h,{type:"button",color:"info",outline:"",label:"Close","data-bs-dismiss":"modal"})]),_:1})]),_:1},8,["onSubmit"])])])])],512),t(xe,{modelValue:ee.value,"onUpdate:modelValue":r[6]||(r[6]=l=>ee.value=l),title:"Refer Client",button:"success","has-cancel":"","has-refer":"",onRefer:re},{default:s(()=>[t(y,{label:"Referring Facility",class:"mt-6"},{default:s(()=>[t(v,{modelValue:C.value,"onUpdate:modelValue":r[3]||(r[3]=l=>C.value=l),options:B.value},null,8,["modelValue","options"])]),_:1}),t(y,{label:"Referred Facility",class:"mt-6"},{default:s(()=>[t(v,{modelValue:M.value,"onUpdate:modelValue":r[4]||(r[4]=l=>M.value=l),options:G.value},null,8,["modelValue","options"])]),_:1}),t(y,{label:"Remarks"},{default:s(()=>[t(v,{modelValue:O.value,"onUpdate:modelValue":r[5]||(r[5]=l=>O.value=l),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),t(xe,{modelValue:W.value,"onUpdate:modelValue":r[7]||(r[7]=l=>W.value=l),button:"danger","has-cancel":"","has-confirm":"",title:".",onConfirmDelete:we},{default:s(()=>[u("p",null,"Are you sure you want to delete "+H(a.client_name)+"?",1)]),_:1},8,["modelValue"]),Y.value.length?(k(),I("div",ba,[(k(!0),I(de,null,Ce(Y.value,l=>(k(),I("span",{key:l.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-slate-700"},H(l.firstname+" "+l.middlename+" "+l.lastname),1))),128))])):T("",!0),u("table",null,[u("thead",null,[u("tr",null,[F.checkable?(k(),I("th",pa)):T("",!0),va,fa,ga,ha,ya,wa])]),u("tbody",null,[(k(!0),I(de,null,Ce(d(fe),l=>(k(),I("tr",{key:l.id},[F.checkable?(k(),X(qe,{key:0,onChecked:e=>U(e,l)},null,8,["onChecked"])):T("",!0),u("td",Va,[t(Fe,{firstname:l.firstname+l.middlename+l.lastname,class:"w-24 h-24 mx-auto lg:w-6 lg:h-6"},null,8,["firstname"])]),u("td",ka,H(l.firstname+" "+l.middlename+" "+l.lastname),1),u("td",Ca,H(l.muncity_description),1),u("td",Ma,H(l.client_barangay),1),u("td",xa,[u("small",{class:"text-gray-500 dark:text-slate-400",title:l.created_on},H(d(b)(l.created_on).format("ll")),9,Da),Ya,u("small",Pa,H(d(b)(l.created_on).format("h:mm:ss a")),1)]),u("td",La,[t(be,{type:"justify-start lg:justify-end","no-wrap":""},{default:s(()=>[t(h,{color:"info",icon:d(N),small:"","data-bs-toggle":"modal","data-bs-target":"#clientModal",onClick:e=>J(l.id)},null,8,["icon","onClick"]),t(h,{color:"danger",icon:d($e),small:"",onClick:e=>ye(l.id,l.firstname+" "+l.middlename+" "+l.lastname)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])]),u("div",Ua,[t(Ae,null,{default:s(()=>[t(be,null,{default:s(()=>[(k(!0),I(de,null,Ce(d(g),l=>(k(),X(h,{key:l,active:l===V.value,label:l+1,color:l===V.value?"lightDark":"whiteDark",small:"",onClick:e=>V.value=l},null,8,["active","label","color","onClick"]))),128))]),_:1}),u("small",null,"Page "+H(d(n))+" of "+H(d(se)),1)]),_:1})])],64)}}}),Ha=F=>(Ze("data-v-6eeb5a93"),F=F(),ea(),F),Ia={class:"modal-dialog modal-lg relative w-auto pointer-events-none"},Fa={class:"modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current"},$a={class:"modal-body relative p-4"},Aa={class:"modal-dialog modal-md relative w-auto pointer-events-none border-4 border-indigo-500/100"},Ba={class:"modal-content border-none shadow-sm relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current"},Oa=Ha(()=>u("div",{class:"modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md"},[u("h5",{class:"text-xl font-medium leading-normal text-gray-800",id:"exampleModalLgLabel"}," Dose Schedule "),u("button",{type:"button",class:"btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Na={class:"modal-body relative p-4"},qa=Ye({__name:"ClientView",emits:["loading-modal-open","loading-modal-close"],setup(F,{emit:E}){const Z=p(""),D=p([]),$=p({}),_=Pe();f(()=>_.userFirstname+" "+_.userMiddlename+" "+_.userLastname),f(()=>_.history),f(()=>_.clients.slice(0,4));const ee=p(null),W=p(null),j=p({}),V=p(""),Y=p(!1),a=oe({id:0,vaccine_id:"",firstname:"",middlename:"",lastname:"",birthdate:"",birthplace:"",sex:"",client_address:0,muncity_id:je().value,muncity_description:Ge().value,client_barangay:"",guardian_name:"",guardian_contact_number:"",guardian_alternate_number:"",guardian_address:0,guardian_barangay:"",bhw_name:"",bhw_contact_number:"",bhw_address:0,bhw_barangay:"",health_provider_name:"",health_provider_contact:"",health_provider_address:0,health_provider_barangay:"",remarks:"",is_active:!0,created_by:0,created_on:"",updated_on:""});Le(()=>{b().format("Y-MM-DD"),fe(),se(),ee.value=new Modal(W.value)});const fe=async()=>{const l=await _e({userid:le().value});D.value=await Promise.all(l.map(async e=>({id:e.id,label:e.description})))},se=async()=>{const l=await Re();$.value={id:l.id,label:l.description}},n=oe({client_id:0,vaccine_type:"",given_1:"",given_2:"",given_3:"",given_administerred_1:"",given_administerred_2:"",given_administerred_3:"",scheduled_1:"",scheduled_2:"",scheduled_3:"",scheduled_administerred_1:"",scheduled_administerred_2:"",scheduled_administerred_3:"",status1:"",status2:"",status3:"",button_type1:"",button_type2:"",button_type3:"",updated_on:""}),g=oe({bcg:"default",hepb:"default",pentavalent:"default",opv:"default",ipv:"default",pcv:"default",mcv:"default"}),K=p([]),U=f(()=>K.value.indexOf("outline")>-1),A=f(()=>K.value.indexOf("small")>-1),C=f(()=>K.value.indexOf("disabled")>-1),M=f(()=>K.value.indexOf("rounded")>-1),B=p(null),G=p(null),P=async l=>{var i;ge();const e=await me({client_id:a.id,vaccine_type:l,status:1});if(console.log(e),n.client_id=a.id,n.vaccine_type=l,e.length>0){E("loading-modal-open"),V.value="Update",n.scheduled_1=e[0].scheduled_1,n.scheduled_2=e[0].scheduled_2,n.scheduled_3=e[0].scheduled_3;const m=await Q({id:e[0].scheduled_administerred_1});n.scheduled_administerred_1=m.fname+" "+m.mname+" "+m.lname;const S=await Q({id:e[0].scheduled_administerred_2});n.scheduled_administerred_2=S.fname+" "+S.mname+" "+S.lname;const x=await Q({id:e[0].scheduled_administerred_3});n.scheduled_administerred_3=x.fname+" "+x.mname+" "+x.lname,n.given_1=e[0].given_1,n.given_2=e[0].given_2,n.given_3=e[0].given_3;const L=await Q({id:e[0].given_administerred_1});n.given_administerred_1=L.fname+" "+L.mname+" "+L.lname;const o=await Q({id:e[0].given_administerred_2});n.given_administerred_2=o.fname+" "+o.mname+" "+o.lname;const ke=await Q({id:e[0].given_administerred_3});n.given_administerred_3=ke.fname+" "+ke.mname+" "+ke.lname,n.status1=e[0].status1,n.status2=e[0].status2,n.status3=e[0].status3,n.button_type1=e[0].button_type1,n.button_type2=e[0].button_type2,n.button_type3=e[0].button_type3,E("loading-modal-close")}else V.value="Submit";n.updated_on=b().format("YYYY-MM-DD HH:mm:ss"),B.value=new Modal(G.value),(i=B.value)==null||i.show()},ie=async()=>{var L;E("loading-modal-open");const l=await te({barangay_id:a.client_address});a.client_barangay=l.description;const e=await te({barangay_id:a.guardian_address});a.guardian_barangay=e.description;const i=await te({barangay_id:a.bhw_address});a.bhw_barangay=i.description;const m=await te({barangay_id:a.health_provider_address});a.health_provider_barangay=m.description,a.created_by=_.userId;let S="",x="";if(a.id)S="Client was successfully updated!",a.updated_on=b().format("YYYY-MM-DD HH:mm:ss"),await aa(a),x="updated";else{S="Client was successfully added!",a.created_on=b().format("YYYY-MM-DD HH:mm:ss");const o=await na(a);a.id=o.id,x="created"}j.value={id:a.id,firstname:a.firstname,middlename:a.middlename,lastname:a.lastname,client_barangay:a.client_barangay,status:x,client_address:a.client_address,muncity_description:a.muncity_description},console.log(j.value),ae(),(L=ee.value)==null||L.hide(),E("loading-modal-close"),ve({group:"success",title:"Success",text:S},2e3)},ae=async(l="")=>{a.vaccine_id="LLC # "+_.userId+"-"+b().format("YYYYMMDDHHmmss")+String(Math.random()).substring(0,3).split(".").join(""),a.id=0,l!="create"&&(a.vaccine_id=""),a.firstname="",a.middlename="",a.lastname="",a.birthdate="",a.birthplace="",a.sex="",a.client_address=0,a.client_barangay="",a.guardian_name="",a.guardian_contact_number="",a.guardian_alternate_number="",a.guardian_address=0,a.guardian_barangay="",a.bhw_name="",a.bhw_contact_number="",a.bhw_address=0,a.bhw_barangay="",a.health_provider_name="",a.health_provider_contact="",a.health_provider_address=0,a.health_provider_barangay="",a.remarks="",a.is_active=!0,a.created_by=0,a.created_on="",a.updated_on=""},ge=async()=>{n.given_1="",n.given_2="",n.given_3="",n.given_administerred_1="",n.given_administerred_2="",n.given_administerred_3="",n.scheduled_1="",n.scheduled_2="",n.scheduled_3="",n.scheduled_administerred_1="",n.scheduled_administerred_2="",n.scheduled_administerred_3="",n.status1="",n.status2="",n.status3="",n.button_type1="",n.button_type2="",n.button_type3=""},he=async()=>{var i;(i=B.value)==null||i.hide();const l={client_id:n.client_id,vaccine_type:n.vaccine_type,scheduled_administerred_1:n.scheduled_1?_.userId:0,scheduled_administerred_2:n.scheduled_2?_.userId:0,scheduled_administerred_3:n.scheduled_3!=""?_.userId:0,given_administerred_1:n.given_1||n.given_administerred_1!=""?_.userId:0,given_administerred_2:n.given_2||n.given_administerred_2!=""?_.userId:0,given_administerred_3:n.given_3||n.given_administerred_3!=""?_.userId:0,updated_on:b(n.updated_on).format("YYYY-MM-DD HH:mm:ss"),Client:[n.client_id]};l.scheduled_1=n.scheduled_1?b(n.scheduled_1).format("YYYY-MM-DD"):null,l.scheduled_2=n.scheduled_2?b(n.scheduled_2).format("YYYY-MM-DD"):null,l.scheduled_3=n.scheduled_3?b(n.scheduled_3).format("YYYY-MM-DD"):null,l.given_1=n.given_1?b(n.given_1).format("YYYY-MM-DD"):null,l.given_2=n.given_2?b(n.given_2).format("YYYY-MM-DD"):null,l.given_3=n.given_3?b(n.given_3).format("YYYY-MM-DD"):null,l.created_on=b().format("YYYY-MM-DD HH:mm:ss"),console.log(l),console.log(V.value),V.value=="Update"?await la(l):await ta(l),g[n.vaccine_type]=await Promise.resolve(J(a.id,n.vaccine_type));let e="";e=`Congratulations!

`,e+="Baby "+a.firstname+" "+a.middlename+" "+a.lastname,n.vaccine_type=="bcg"?(e+=" is scheduled for BCG Vaccination on",e+=" "+b(l.scheduled_1).format("LL")+".",e+=` Please come on your schedule and bring the vaccination card when you visit the Health Center.

`,e+=`Ang bakuna nga BCG maga protekta sa mga bata batok sa sakit nga Tuberculosis o TB. Importante nga ang bata mabakunahan sa tukmang schedule arun siya ma depensahan batok sa maong sakit.

`):n.vaccine_type=="hepb"?(e+=" is scheduled for HEPA B Vaccination on",e+=" "+b(l.scheduled_1).format("LL")+".",e+=` Please come on your schedule and bring the vaccination card when you visit the Health Center.

`,e+=`

`):n.vaccine_type=="pentavalent"?(e+=" is scheduled for PENTAVALENT Vaccination on",e+=" "+b(l.scheduled_1).format("LL")+".",e+=` Please come on your schedule and bring the vaccination card when you visit the Health Center.

`,e+=`Ang Pentavalent Vaccine maga protektar sa bata batok sa sakit nga Diptheria, Tetanus, Hepa B, Pertussis, Pneumonia ug Meningitis.

`,e+=`Importante nga ang bata mabakunahan sa tukmang schedule ug makompleto ang 3 ka dose sa bakuna arun siya ma depensahan batok sa maong mga sakit.

`):n.vaccine_type=="opv"?(e+=" is scheduled for OPV Vaccination on",e+=" "+b(l.scheduled_1).format("LL")+".",e+=` Please come on your schedule and bring the vaccination card when you visit the Health Center.

`,e+=`Ang bakuna nga OPV kon Oral Polio Vaccine maga protektar sa bata batok sa sakit nga Polio.

`,e+=`Importante nga ang bata mabakunahan sa tukmang schedule ug makompleto ang 3 ka dose sa bakuna arun siya ma depensahan batok sa maong mga sakit.

`):n.vaccine_type=="ipv"?(e+=" is scheduled for IPV Vaccination on",e+=" "+b(l.scheduled_1).format("LL")+".",e+=` Please come on your schedule and bring the vaccination card when you visit the Health Center.

`,e+=`

`):n.vaccine_type=="pcv"?(e+=" is scheduled for PCV Vaccination on",e+=" "+b(l.scheduled_1).format("LL")+".",e+=` Please come on your schedule and bring the vaccination card when you visit the Health Center.

`,e+=`Ang bakuna nga PCV kon Pneumococcal Conjugate Vaccine maga protektar sa bata batok sa sakit nga Pneumonia ug Meningitis.

`,e+=`Importante nga ang bata mabakunahan sa tukmang schedule ug makompleto ang 3 ka dose sa bakuna arun siya ma depensahan batok sa maong mga sakit.

`):n.vaccine_type=="mcv"&&(e+=" is scheduled for MCV Vaccination on",e+=" "+b(l.scheduled_1).format("LL")+".",e+=` Please come on your schedule and bring the vaccination card when you visit the Health Center.

`,e+=`

`),e+="Ang bakuna luwas ug epektibo. Ang BAKUNADO ay PROTEKTADO!",da(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e),ve({group:"success_dose",title:"Success",text:"Vaccine info was successfully updated!"},2e3)},ye=async l=>{Y.value=!0,we(l)},we=async l=>{V.value="Update";const e=await oa({id:l});console.log(e),a.id=e.id,a.bhw_address=e.bhw_address,a.bhw_contact_number=e.bhw_contact_number,a.bhw_name=e.bhw_name,a.birthdate=e.birthdate,a.birthplace=e.birthplace,a.client_address=e.client_address,a.client_barangay=e.client_barangay,a.created_by=e.created_by,a.guardian_address=e.guardian_address,a.guardian_barangay=e.guardian_barangay,a.guardian_alternate_number=e.guardian_alternate_number,a.guardian_contact_number=e.guardian_contact_number,a.guardian_name=e.guardian_name,a.health_provider_address=e.health_provider_address,a.health_provider_barangay=e.health_provider_barangay,a.health_provider_contact=e.health_provider_contact,a.health_provider_name=e.health_provider_name,a.remarks=e.remarks,a.is_active=e.is_active,a.firstname=e.firstname,a.lastname=e.lastname,a.middlename=e.middlename,a.sex=e.sex,a.vaccine_id=e.vaccine_id,a.created_on=e.created_on,a.updated_on=e.updated_on,g.pentavalent=await Promise.resolve(J(a.id,"pentavalent")),g.opv=await Promise.resolve(J(a.id,"opv")),g.pcv=await Promise.resolve(J(a.id,"pcv")),g.mcv=await Promise.resolve(Ve(a.id,"mcv")),g.bcg=await Promise.resolve(ne(a.id,"bcg")),g.hepb=await Promise.resolve(ne(a.id,"hepb")),g.ipv=await Promise.resolve(ne(a.id,"ipv")),console.log(g)},J=async(l,e)=>{const i=await me({client_id:l,vaccine_type:e,status:1});if(i.length>0){if(i[0].scheduled_3!="")return i[0].button_type3;if(i[0].scheduled_2!="")return i[0].button_type2;if(i[0].scheduled_1!="")return i[0].button_type1}else return""},Ve=async(l,e)=>{const i=await me({client_id:l,vaccine_type:e,status:1});if(i.length>0){if(i[0].scheduled_2!="")return i[0].button_type2;if(i[0].scheduled_1!="")return i[0].button_type1}else return""},ne=async(l,e)=>{const i=await me({client_id:l,vaccine_type:e,status:1});if(i.length>0){if(i[0].scheduled_1!="")return i[0].button_type1}else return""},O=async l=>{Z.value=l},re=()=>{V.value="Submit",Y.value=!1,ae("create")},ue=f(()=>n.given_1);q(ue,l=>{console.log(l),n.given_administerred_1=_.userFirstname+" "+_.userMiddlename+" "+_.userLastname});const c=f(()=>n.given_2);q(c,l=>{console.log(l),n.given_administerred_2=_.userFirstname+" "+_.userMiddlename+" "+_.userLastname});const r=f(()=>n.given_3);q(r,l=>{console.log(l),n.given_administerred_3=_.userFirstname+" "+_.userMiddlename+" "+_.userLastname});const v=f(()=>n.scheduled_1);q(v,l=>{console.log(l),n.scheduled_administerred_1=_.userFirstname+" "+_.userMiddlename+" "+_.userLastname});const y=f(()=>n.scheduled_2);q(y,l=>{console.log(l),n.scheduled_administerred_2=_.userFirstname+" "+_.userMiddlename+" "+_.userLastname});const w=f(()=>n.scheduled_3);return q(w,l=>{console.log(l),n.scheduled_administerred_3=_.userFirstname+" "+_.userMiddlename+" "+_.userLastname}),Ue(),(l,e)=>{const i=Se,m=He,S=ra,x=sa,L=be;return k(),I(de,null,[t(Te,{onSearchClient:O},{default:s(()=>[t(Ee,null,{default:s(()=>[t(De,{icon:d(We),title:"Clients for new born baby",main:""},{default:s(()=>[t(h,{onClick:re,type:"button",color:"info",label:"Create",icon:d(Ke),"data-bs-toggle":"modal","data-bs-target":"#clientModal"},null,8,["icon"])]),_:1},8,["icon"]),t(pe,{class:"mb-6","has-table":""},{default:s(()=>[t(Sa,{onClientInfo:ye,search_keyword:Z.value,form:j.value,checkable:""},null,8,["search_keyword","form"])]),_:1})]),_:1})]),_:1}),u("div",{class:"modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto",ref_key:"el_client_modal",ref:W,id:"clientModal","data-bs-backdrop":"static","aria-labelledby":"exampleModalLgLabel","aria-modal":"true",role:"dialog"},[u("div",Ia,[u("div",Fa,[u("div",$a,[t(De,{icon:d(Je),title:"Client Info",main:""},null,8,["icon"]),t(ze),t(pe,{"is-form":"",onSubmit:Me(ie,["prevent"])},{default:s(()=>[t(m,{label:"Personal Information",class:"text-xl"},{default:s(()=>[t(m,{label:"Vaccine Card Number ID",class:"text-sm"},{default:s(()=>[t(i,{modelValue:a.vaccine_id,"onUpdate:modelValue":e[0]||(e[0]=o=>a.vaccine_id=o),icon:d(Qe),readonly:!0},null,8,["modelValue","icon"])]),_:1}),t(i,{modelValue:a.firstname,"onUpdate:modelValue":e[1]||(e[1]=o=>a.firstname=o),icon:d(z),class:"mt-7",placeholder:"Firstname",required:""},null,8,["modelValue","icon"])]),_:1}),t(m,null,{default:s(()=>[t(i,{modelValue:a.middlename,"onUpdate:modelValue":e[2]||(e[2]=o=>a.middlename=o),icon:d(z),placeholder:"Middlename",required:""},null,8,["modelValue","icon"]),t(i,{modelValue:a.lastname,"onUpdate:modelValue":e[3]||(e[3]=o=>a.lastname=o),icon:d(z),placeholder:"Lastname",required:""},null,8,["modelValue","icon"])]),_:1}),t(m,null,{default:s(()=>[t(m,{label:"Birthdate"},{default:s(()=>[t(i,{modelValue:a.birthdate,"onUpdate:modelValue":e[4]||(e[4]=o=>a.birthdate=o),type:"date",icon:d(R),required:""},null,8,["modelValue","icon"])]),_:1}),t(i,{modelValue:a.birthplace,"onUpdate:modelValue":e[5]||(e[5]=o=>a.birthplace=o),icon:d(Xe),class:"mt-8",placeholder:"Birthplace",required:""},null,8,["modelValue","icon"])]),_:1}),t(m,{label:"Sex"},{default:s(()=>[t(S,{modelValue:a.sex,"onUpdate:modelValue":e[6]||(e[6]=o=>a.sex=o),name:"sex",type:"radio",options:{male:"Male",female:"Female"}},null,8,["modelValue"])]),_:1}),t(m,{label:"Client Address"},{default:s(()=>[t(i,{modelValue:a.client_address,"onUpdate:modelValue":e[7]||(e[7]=o=>a.client_address=o),options:D.value},null,8,["modelValue","options"])]),_:1}),t(x),t(m,{label:"Name of Parents / Guardian"},{default:s(()=>[t(i,{modelValue:a.guardian_name,"onUpdate:modelValue":e[8]||(e[8]=o=>a.guardian_name=o),icon:d(z),placeholder:"Firstname Middlename Lastname",required:""},null,8,["modelValue","icon"])]),_:1}),t(m,null,{default:s(()=>[t(i,{modelValue:a.guardian_contact_number,"onUpdate:modelValue":e[9]||(e[9]=o=>a.guardian_contact_number=o),icon:d(ce),placeholder:"Contact Number",required:""},null,8,["modelValue","icon"]),t(i,{modelValue:a.guardian_alternate_number,"onUpdate:modelValue":e[10]||(e[10]=o=>a.guardian_alternate_number=o),icon:d(ce),placeholder:"Alternate Number",required:""},null,8,["modelValue","icon"])]),_:1}),t(m,{label:"Parent/Guardian Address"},{default:s(()=>[t(i,{modelValue:a.guardian_address,"onUpdate:modelValue":e[11]||(e[11]=o=>a.guardian_address=o),options:D.value,required:""},null,8,["modelValue","options"])]),_:1}),t(x),t(m,{label:"Name of BHW"},{default:s(()=>[t(i,{modelValue:a.bhw_name,"onUpdate:modelValue":e[12]||(e[12]=o=>a.bhw_name=o),icon:d(z),placeholder:"Firstname Middlename Lastname",required:""},null,8,["modelValue","icon"])]),_:1}),t(m,null,{default:s(()=>[t(m,{label:"BHW contact number"},{default:s(()=>[t(i,{modelValue:a.bhw_contact_number,"onUpdate:modelValue":e[13]||(e[13]=o=>a.bhw_contact_number=o),icon:d(ce),placeholder:"Contact Number",required:""},null,8,["modelValue","icon"])]),_:1}),t(m,{label:"BHW Address"},{default:s(()=>[t(i,{modelValue:a.bhw_address,"onUpdate:modelValue":e[14]||(e[14]=o=>a.bhw_address=o),options:D.value,required:""},null,8,["modelValue","options"])]),_:1})]),_:1}),t(x),t(m,{label:"Name of Health Provider"},{default:s(()=>[t(i,{modelValue:a.health_provider_name,"onUpdate:modelValue":e[15]||(e[15]=o=>a.health_provider_name=o),icon:d(z),placeholder:"Firstname Middlename Lastname"},null,8,["modelValue","icon"])]),_:1}),t(m,null,{default:s(()=>[t(m,{label:"Health Provider Contact Number"},{default:s(()=>[t(i,{modelValue:a.health_provider_contact,"onUpdate:modelValue":e[16]||(e[16]=o=>a.health_provider_contact=o),icon:d(ce),placeholder:"Contact Number"},null,8,["modelValue","icon"])]),_:1}),t(m,{label:"Health Provider Address"},{default:s(()=>[t(i,{modelValue:a.health_provider_address,"onUpdate:modelValue":e[17]||(e[17]=o=>a.health_provider_address=o),options:D.value},null,8,["modelValue","options"])]),_:1})]),_:1}),t(m,{label:"Remarks"},{default:s(()=>[t(i,{modelValue:a.remarks,"onUpdate:modelValue":e[18]||(e[18]=o=>a.remarks=o),type:"textarea",required:""},null,8,["modelValue"])]),_:1}),Y.value?(k(),X(x,{key:0})):T("",!0),Y.value?(k(),X(m,{key:1,label:"Vaccine Type"},{default:s(()=>[t(L,null,{default:s(()=>[t(h,{color:g.bcg,label:"BCG",icon:d(N),small:d(A),outline:d(U),disabled:d(C),"rounded-full":d(M),onClick:e[19]||(e[19]=o=>P("bcg"))},null,8,["color","icon","small","outline","disabled","rounded-full"]),t(h,{color:g.hepb,label:"HepB",icon:d(N),small:d(A),outline:d(U),disabled:d(C),"rounded-full":d(M),onClick:e[20]||(e[20]=o=>P("hepb"))},null,8,["color","icon","small","outline","disabled","rounded-full"]),t(h,{color:g.pentavalent,label:"Pentavalent",icon:d(N),small:d(A),outline:d(U),disabled:d(C),"rounded-full":d(M),onClick:e[21]||(e[21]=o=>P("pentavalent"))},null,8,["color","icon","small","outline","disabled","rounded-full"]),t(h,{color:g.opv,label:"OPV",icon:d(N),small:d(A),outline:d(U),disabled:d(C),"rounded-full":d(M),onClick:e[22]||(e[22]=o=>P("opv"))},null,8,["color","icon","small","outline","disabled","rounded-full"]),t(h,{color:g.ipv,label:"IPV",icon:d(N),small:d(A),outline:d(U),disabled:d(C),"rounded-full":d(M),onClick:e[23]||(e[23]=o=>P("ipv"))},null,8,["color","icon","small","outline","disabled","rounded-full"]),t(h,{color:g.pcv,label:"PCV",icon:d(N),small:d(A),outline:d(U),disabled:d(C),"rounded-full":d(M),onClick:e[24]||(e[24]=o=>P("pcv"))},null,8,["color","icon","small","outline","disabled","rounded-full"]),t(h,{color:g.mcv,label:"MCV",icon:d(N),small:d(A),outline:d(U),disabled:d(C),"rounded-full":d(M),onClick:e[25]||(e[25]=o=>P("mcv"))},null,8,["color","icon","small","outline","disabled","rounded-full"])]),_:1})]),_:1})):T("",!0),t(x),t(L,null,{default:s(()=>[t(h,{type:"submit",color:"info",label:V.value},null,8,["label"]),t(h,{type:"button",color:"info",outline:"",label:"Close","data-bs-dismiss":"modal","aria-label":"Close"})]),_:1})]),_:1},8,["onSubmit"])])])])],512),u("div",{class:"modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto",id:"vaccineeModal","data-bs-backdrop":"static",ref_key:"el_dose_modal",ref:G,"aria-labelledby":"exampleModalLgLabel","aria-modal":"true",role:"dialog"},[u("div",Aa,[u("div",Ba,[Oa,u("div",Na,[t(pe,{"is-form":"",onSubmit:Me(he,["prevent"])},{default:s(()=>[t(m,{label:"1st Dose",status:n.status1,button_type:n.button_type1},{default:s(()=>[t(m,{label:"Date Scheduled",help:n.scheduled_1?n.scheduled_administerred_1:""},{default:s(()=>[t(i,{id:"dt1",modelValue:n.scheduled_1,"onUpdate:modelValue":e[26]||(e[26]=o=>n.scheduled_1=o),type:"date",icon:d(R),placeholder:"Date Scheduled"},null,8,["modelValue","icon"])]),_:1},8,["help"]),t(m,{label:"Date Given",help:n.given_1?n.given_administerred_1:""},{default:s(()=>[t(i,{id:"dt2",modelValue:n.given_1,"onUpdate:modelValue":e[27]||(e[27]=o=>n.given_1=o),type:"date",icon:d(R),placeholder:"Date Given"},null,8,["modelValue","icon"])]),_:1},8,["help"])]),_:1},8,["status","button_type"]),n.vaccine_type=="mcv"||n.vaccine_type=="pentavalent"||n.vaccine_type=="opv"||n.vaccine_type=="pcv"?(k(),X(m,{key:0,label:"2nd Dose",status:n.status2,button_type:n.button_type2},{default:s(()=>[t(m,{label:"Date Scheduled",help:n.scheduled_2?n.scheduled_administerred_2:""},{default:s(()=>[t(i,{id:"dt3",modelValue:n.scheduled_2,"onUpdate:modelValue":e[28]||(e[28]=o=>n.scheduled_2=o),type:"date",icon:d(R),placeholder:"Date Scheduled"},null,8,["modelValue","icon"])]),_:1},8,["help"]),t(m,{label:"Date Given",help:n.given_2?n.given_administerred_2:""},{default:s(()=>[t(i,{id:"dt4",modelValue:n.given_2,"onUpdate:modelValue":e[29]||(e[29]=o=>n.given_2=o),type:"date",icon:d(R),placeholder:"Date Given"},null,8,["modelValue","icon"])]),_:1},8,["help"])]),_:1},8,["status","button_type"])):T("",!0),n.vaccine_type=="pentavalent"||n.vaccine_type=="opv"||n.vaccine_type=="pcv"?(k(),X(m,{key:1,label:"3rd Dose",status:n.status3,button_type:n.button_type3},{default:s(()=>[t(m,{label:"Date Scheduled",help:n.scheduled_3?n.scheduled_administerred_3:""},{default:s(()=>[t(i,{id:"dt5",modelValue:n.scheduled_3,"onUpdate:modelValue":e[30]||(e[30]=o=>n.scheduled_3=o),type:"date",icon:d(R),placeholder:"Date Scheduled"},null,8,["modelValue","icon"])]),_:1},8,["help"]),t(m,{label:"Date Given",help:n.given_3?n.given_administerred_3:""},{default:s(()=>[t(i,{id:"dt6",modelValue:n.given_3,"onUpdate:modelValue":e[31]||(e[31]=o=>n.given_3=o),type:"date",icon:d(R),placeholder:"Date Given"},null,8,["modelValue","icon"])]),_:1},8,["help"])]),_:1},8,["status","button_type"])):T("",!0),t(L,null,{default:s(()=>[t(h,{type:"submit",color:"info",label:V.value},null,8,["label"]),t(h,{type:"button",color:"info",outline:"",label:"Close","data-bs-dismiss":"modal","aria-label":"Close"})]),_:1})]),_:1},8,["onSubmit"])])])])],512)],64)}}});const Ra=ia(qa,[["__scopeId","data-v-6eeb5a93"]]);export{Ra as default};
