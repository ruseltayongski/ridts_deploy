import{d as Ye,u as Le,r as f,c as v,a as oe,o as Ae,g as _e,b as be,e as Oe,f as ne,w as q,h as Be,i as V,j as H,k as c,l,m as s,_ as pe,n as y,p as Me,q as xe,t as F,F as le,s as De,v as te,x as d,y as p,z as R,A as He,B as Ie,C as de,D as Fe,E as $e,G as ge,H as Ne,I as Te,J as Ue,K as Se,L as fe,M as Re,N as qe,O as Ke,P as je,Q as Pe,R as Ee,S as Ge,T as We,U as Je,V as ze,W as Qe,X as z,Y as j,Z as Xe,$ as ce,a0 as Ze,a1 as ea,a2 as me,a3 as Q,a4 as aa,a5 as na,a6 as la,a7 as ta,a8 as D,a9 as da,aa as oa,ab as sa}from"./index.b3c40d53.js";import{_ as ia}from"./FormCheckRadioGroup.vue_vue_type_script_setup_true_lang.f6283f4f.js";const ra={class:"modal-dialog modal-md relative w-auto pointer-events-none border-4 border-indigo-500/100"},ua={class:"modal-content border-none shadow-sm relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current"},ca=c("div",{class:"modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md"},[c("h5",{class:"text-xl font-medium leading-normal text-gray-800",id:"exampleModalLgLabel"}," Refer Patient "),c("button",{type:"button",class:"btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ma={class:"modal-body relative p-4"},_a={key:0,class:"p-3 bg-gray-100/50 dark:bg-slate-800"},ba={key:1},pa=c("thead",null,[c("tr",null,[c("th",null,"Name"),c("th",null,"Municipality"),c("th",null,"Barangay"),c("th",null,"Created"),c("th")])],-1),fa={"data-label":"Name"},ga={"data-label":"Company"},va={"data-label":"City"},ha={"data-label":"Created",class:"lg:w-1 whitespace-nowrap"},ya=["title"],wa=c("br",null,null,-1),Va={class:"text-gray-400 dark:text-slate-400"},ka={class:"before:hidden lg:w-1 whitespace-nowrap"},Ca={key:2,class:"flex flex-row mt-2 p-10"},Da=["src"],Ma=c("p",{class:"text-xl ml-2"},"Processing...",-1),xa={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"},Pa=Ye({__name:"TableClients",props:{checkable:Boolean,search_keyword:{type:String,default:null},form:{type:Object,default:null}},emits:["client-info"],setup(E,{emit:G}){const X=E,A=Le(),U=f([]),b=f([]),Z=v(()=>U.value),ee=f(!1),K=f(!1),P=f(10),Y=f(0),a=f([]),$=oe({client_id:0,client_name:""}),se=v(()=>Z.value.slice(P.value*Y.value,P.value*(Y.value+1))),n=v(()=>Math.ceil(Z.value.length/P.value)),h=v(()=>Y.value+1),W=v(()=>{const m=[];for(let u=0;u<n.value;u++)m.push(u);return m});oe({name:"John Doe",email:"john.doe@example.com",phone:"",barangay:[{id:1,label:"Lahug"},{id:2,label:"Sambag II"},{id:3,label:"Day-as"}][0],subject:"",question:""});const k=f(0),C=f(0),L=f([]),T=f([]),ae=f(null),S=f(null);Ae(()=>{ie(),he(),ve(),ae.value=new Modal(S.value)});const ve=async(m={})=>{if(!m.search){const g=await _e({userid:be().value});m={barangay_assignment:await Promise.all(g.map(async w=>w.id))}}const u=await Oe(m);U.value=await Promise.all(u.map(async g=>({...g,fullname:g.firstname+" "+g.middlename+" "+g.lastname}))),b.value=U.value},ie=async()=>{const m=await _e({userid:be().value});L.value=await Promise.all(m.map(async u=>({id:u.id,label:u.description})))},he=async()=>{const m=await _e({userid:be().value}),u=await Promise.all(m.map(async w=>w.id)),g=await ne(),M=await Promise.all(g.map(async w=>{if(!u.includes(w.id))return{id:w.id,label:w.description}}));T.value=M.filter(w=>typeof w=="object")},ye=async(m,u)=>{$.client_id=m,$.client_name=u,K.value=!0},we=async()=>{U.value=U.value.filter(m=>m.id!==$.client_id),await $e({id:$.client_id}),ge({group:"error",title:"Warning",text:$.client_name+" was successfully deleted"},2e3)},Ve=m=>{G("client-info",m)},J=v(()=>X.search_keyword);q(J,m=>{console.log("search keyword");let u=b.value.filter(g=>g.fullname.toLowerCase().includes(m.toLowerCase()));u.length>0?(U.value=u,Y.value=0):U.value=[]});const ke=v(()=>X.form);q(ke,m=>{m.status=="updated"?U.value.filter(u=>{u.id==m.id&&(u.firstname=m.firstname,u.middlename=m.middlename,u.lastname=m.lastname,u.client_barangay=m.client_barangay,u.muncity_description=m.muncity_description,u.fullname=m.firstname+" "+m.middlename+" "+m.lastname)}):U.value.unshift(m)});const O=f(""),re=async()=>{var w;const m=L.value.filter(r=>r.id===k.value),u=T.value.filter(r=>r.id===C.value),g={Client:[ue.value.id],client_id:ue.value.id,code:p().format("YYYY")+"-"+A.userId+p().format("MMDDHHmmss")+String(Math.random()).substring(0,3).split(".").join(""),date_referred:p().format("YYYY-MM-DD HH:mm:ss"),referred_from:k.value,referred_from_address:m[0].label,referred_to:C.value,referred_to_address:u[0].label,referring_id:A.userId,referring_name:A.userFirstname+" "+A.userMiddlename+" "+A.userLastname,remarks:O.value,status:"referred",created_on:p().format("YYYY-MM-DD HH:mm:ss")},M=await Ne(g);g.Activity=[M.id],await Te(g),(w=ae.value)==null||w.hide(),ge({group:"success",title:"success",text:"Client was successfully referred!"},2e3),O.value=""},ue=f({});return Be(),(m,u)=>{const g=Ue,M=Se,w=fe;return V(),H(le,null,[c("div",{class:"modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto","data-bs-backdrop":"static",ref_key:"el_refer_modal",ref:S,id:"referModal","aria-labelledby":"exampleModalLgLabel","aria-modal":"true",role:"dialog"},[c("div",ra,[c("div",ua,[ca,c("div",ma,[l(w,{"is-form":"",onSubmit:Me(re,["prevent"])},{default:s(()=>[l(M,{label:"Referring Facility",class:"mt-6"},{default:s(()=>[l(g,{modelValue:k.value,"onUpdate:modelValue":u[0]||(u[0]=r=>k.value=r),options:L.value},null,8,["modelValue","options"])]),_:1}),l(M,{label:"Referred Facility",class:"mt-6"},{default:s(()=>[l(g,{modelValue:C.value,"onUpdate:modelValue":u[1]||(u[1]=r=>C.value=r),options:T.value},null,8,["modelValue","options"])]),_:1}),l(M,{label:"Remarks"},{default:s(()=>[l(g,{modelValue:O.value,"onUpdate:modelValue":u[2]||(u[2]=r=>O.value=r),type:"textarea"},null,8,["modelValue"])]),_:1}),l(pe,null,{default:s(()=>[l(y,{type:"submit",color:"success",label:"Refer"}),l(y,{type:"button",color:"info",outline:"",label:"Close","data-bs-dismiss":"modal"})]),_:1})]),_:1},8,["onSubmit"])])])])],512),l(xe,{modelValue:ee.value,"onUpdate:modelValue":u[6]||(u[6]=r=>ee.value=r),title:"Refer Client",button:"success","has-cancel":"","has-refer":"",onRefer:re},{default:s(()=>[l(M,{label:"Referring Facility",class:"mt-6"},{default:s(()=>[l(g,{modelValue:k.value,"onUpdate:modelValue":u[3]||(u[3]=r=>k.value=r),options:L.value},null,8,["modelValue","options"])]),_:1}),l(M,{label:"Referred Facility",class:"mt-6"},{default:s(()=>[l(g,{modelValue:C.value,"onUpdate:modelValue":u[4]||(u[4]=r=>C.value=r),options:T.value},null,8,["modelValue","options"])]),_:1}),l(M,{label:"Remarks"},{default:s(()=>[l(g,{modelValue:O.value,"onUpdate:modelValue":u[5]||(u[5]=r=>O.value=r),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),l(xe,{modelValue:K.value,"onUpdate:modelValue":u[7]||(u[7]=r=>K.value=r),button:"danger","has-cancel":"","has-confirm":"",title:".",onConfirmDelete:we},{default:s(()=>[c("p",null,"Are you sure you want to delete "+F($.client_name)+"?",1)]),_:1},8,["modelValue"]),a.value.length?(V(),H("div",_a,[(V(!0),H(le,null,De(a.value,r=>(V(),H("span",{key:r.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-slate-700"},F(r.firstname+" "+r.middlename+" "+r.lastname),1))),128))])):te("",!0),d(se).length>0?(V(),H("table",ba,[pa,c("tbody",null,[(V(!0),H(le,null,De(d(se),r=>(V(),H("tr",{key:r.id},[c("td",fa,F(r.fullname),1),c("td",ga,F(r.muncity_description),1),c("td",va,F(r.client_barangay),1),c("td",ha,[c("small",{class:"text-gray-500 dark:text-slate-400",title:r.created_on},F(d(p)(r.created_on).format("ll")),9,ya),wa,c("small",Va,F(d(p)(r.created_on).format("h:mm:ss a")),1)]),c("td",ka,[l(pe,{type:"justify-start lg:justify-end","no-wrap":""},{default:s(()=>[l(y,{color:"info",icon:d(R),small:"","data-bs-toggle":"modal","data-bs-target":"#clientModal",onClick:t=>Ve(r.id)},null,8,["icon","onClick"]),l(y,{color:"danger",icon:d(He),small:"",onClick:t=>ye(r.id,r.firstname+" "+r.middlename+" "+r.lastname)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])])):(V(),H("div",Ca,[c("img",{src:d(Ie),alt:"loading_gif",class:"w-10 h-10"},null,8,Da),Ma])),c("div",xa,[l(Fe,null,{default:s(()=>[l(pe,null,{default:s(()=>[(V(!0),H(le,null,De(d(W),r=>(V(),de(y,{key:r,active:r===Y.value,label:r+1,color:r===Y.value?"lightDark":"whiteDark",small:"",onClick:t=>Y.value=r},null,8,["active","label","color","onClick"]))),128))]),_:1}),c("small",null,"Page "+F(d(h))+" of "+F(d(n)),1)]),_:1})])],64)}}}),Ya=E=>(Ze("data-v-b5ece763"),E=E(),ea(),E),La={class:"modal-dialog modal-lg relative w-auto pointer-events-none"},Aa={class:"modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current"},Ua={class:"modal-body relative p-4"},Sa={class:"modal-dialog modal-md relative w-auto pointer-events-none border-4 border-indigo-500/100"},Oa={class:"modal-content border-none shadow-sm relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current"},Ba=Ya(()=>c("div",{class:"modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md"},[c("h5",{class:"text-xl font-medium leading-normal text-gray-800",id:"exampleModalLgLabel"}," Dose Schedule "),c("button",{type:"button",class:"btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Ha={class:"modal-body relative p-4"},Ia=Ye({__name:"ClientView",emits:["loading-modal-open","loading-modal-close"],setup(E,{emit:G}){const X=f(""),A=f([]),U=f({}),b=Le();v(()=>b.userFirstname+" "+b.userMiddlename+" "+b.userLastname),v(()=>b.history),v(()=>b.clients.slice(0,4));const Z=f(null),ee=f(null),K=f({}),P=f(""),Y=f(!1),a=oe({id:0,vaccine_id:"",firstname:"",middlename:"",lastname:"",birthdate:"",birthplace:"",sex:"",client_address:0,muncity_id:Re().value,muncity_description:qe().value,client_barangay:"",guardian_name:"",guardian_contact_number:"",guardian_alternate_number:"",guardian_address:0,guardian_barangay:"",bhw_name:"",bhw_contact_number:"",bhw_address:0,bhw_barangay:"",health_provider_name:"",health_provider_contact:"",health_provider_address:0,health_provider_barangay:"",remarks:"",is_active:!0,created_by:0,created_on:"",updated_on:""});Ae(()=>{p().format("Y-MM-DD"),$(),se(),Z.value=new Modal(ee.value)});const $=async()=>{const t=await _e({userid:be().value});A.value=await Promise.all(t.map(async e=>({id:e.id,label:e.description})))},se=async()=>{const t=await Ke();U.value={id:t.id,label:t.description}},n=oe({client_id:0,vaccine_type:"",given_1:"",given_2:"",given_3:"",given_administerred_1:"",given_administerred_2:"",given_administerred_3:"",scheduled_1:"",scheduled_2:"",scheduled_3:"",scheduled_administerred_1:"",scheduled_administerred_2:"",scheduled_administerred_3:"",status1:"",status2:"",status3:"",button_type1:"",button_type2:"",button_type3:"",updated_on:""}),h=oe({bcg:"default",hepb:"default",pentavalent:"default",opv:"default",ipv:"default",pcv:"default",mcv:"default"}),W=f([]),N=v(()=>W.value.indexOf("outline")>-1),k=v(()=>W.value.indexOf("small")>-1),C=v(()=>W.value.indexOf("disabled")>-1),L=v(()=>W.value.indexOf("rounded")>-1),T=f(null),ae=f(null),S=async t=>{var i;he();const e=await me({client_id:a.id,vaccine_type:t,status:1});if(console.log(e),n.client_id=a.id,n.vaccine_type=t,e.length>0){G("loading-modal-open"),P.value="Update",n.scheduled_1=e[0].scheduled_1,n.scheduled_2=e[0].scheduled_2,n.scheduled_3=e[0].scheduled_3;const _=await Q({id:e[0].scheduled_administerred_1});n.scheduled_administerred_1=_.fname+" "+_.mname+" "+_.lname;const I=await Q({id:e[0].scheduled_administerred_2});n.scheduled_administerred_2=I.fname+" "+I.mname+" "+I.lname;const x=await Q({id:e[0].scheduled_administerred_3});n.scheduled_administerred_3=x.fname+" "+x.mname+" "+x.lname,n.given_1=e[0].given_1,n.given_2=e[0].given_2,n.given_3=e[0].given_3;const B=await Q({id:e[0].given_administerred_1});n.given_administerred_1=B.fname+" "+B.mname+" "+B.lname;const o=await Q({id:e[0].given_administerred_2});n.given_administerred_2=o.fname+" "+o.mname+" "+o.lname;const Ce=await Q({id:e[0].given_administerred_3});n.given_administerred_3=Ce.fname+" "+Ce.mname+" "+Ce.lname,n.status1=e[0].status1,n.status2=e[0].status2,n.status3=e[0].status3,n.button_type1=e[0].button_type1,n.button_type2=e[0].button_type2,n.button_type3=e[0].button_type3,G("loading-modal-close")}else P.value="Submit";n.updated_on=p().format("YYYY-MM-DD HH:mm:ss"),T.value=new Modal(ae.value),(i=T.value)==null||i.show()},ve=async()=>{var B;G("loading-modal-open");const t=await ne({barangay_id:a.client_address});a.client_barangay=t.description;const e=await ne({barangay_id:a.guardian_address});a.guardian_barangay=e.description;const i=await ne({barangay_id:a.bhw_address});a.bhw_barangay=i.description;const _=await ne({barangay_id:a.health_provider_address});a.health_provider_barangay=_.description,a.created_by=b.userId;let I="",x="";if(a.id)I="Client was successfully updated!",a.updated_on=p().format("YYYY-MM-DD HH:mm:ss"),await aa(a),x="updated";else{I="Client was successfully added!",a.created_on=p().format("YYYY-MM-DD HH:mm:ss");const o=await na(a);a.id=o.id,x="created"}K.value={id:a.id,firstname:a.firstname,middlename:a.middlename,lastname:a.lastname,fullname:a.firstname+" "+a.middlename+" "+a.lastname,client_barangay:a.client_barangay,status:x,client_address:a.client_address,muncity_description:a.muncity_description},console.log(K.value),ie(),(B=Z.value)==null||B.hide(),G("loading-modal-close"),ge({group:"success",title:"Success",text:I},2e3)},ie=async(t="")=>{a.vaccine_id="LLC # "+b.userId+"-"+p().format("YYYYMMDDHHmmss")+String(Math.random()).substring(0,3).split(".").join(""),a.id=0,t!="create"&&(a.vaccine_id=""),a.firstname="",a.middlename="",a.lastname="",a.birthdate="",a.birthplace="",a.sex="",a.client_address=0,a.client_barangay="",a.guardian_name="",a.guardian_contact_number="",a.guardian_alternate_number="",a.guardian_address=0,a.guardian_barangay="",a.bhw_name="",a.bhw_contact_number="",a.bhw_address=0,a.bhw_barangay="",a.health_provider_name="",a.health_provider_contact="",a.health_provider_address=0,a.health_provider_barangay="",a.remarks="",a.is_active=!0,a.created_by=0,a.created_on="",a.updated_on=""},he=async()=>{n.given_1="",n.given_2="",n.given_3="",n.given_administerred_1="",n.given_administerred_2="",n.given_administerred_3="",n.scheduled_1="",n.scheduled_2="",n.scheduled_3="",n.scheduled_administerred_1="",n.scheduled_administerred_2="",n.scheduled_administerred_3="",n.status1="",n.status2="",n.status3="",n.button_type1="",n.button_type2="",n.button_type3=""},ye=async()=>{var i;(i=T.value)==null||i.hide();const t={client_id:n.client_id,vaccine_type:n.vaccine_type,scheduled_administerred_1:n.scheduled_1?b.userId:0,scheduled_administerred_2:n.scheduled_2?b.userId:0,scheduled_administerred_3:n.scheduled_3!=""?b.userId:0,given_administerred_1:n.given_1||n.given_administerred_1!=""?b.userId:0,given_administerred_2:n.given_2||n.given_administerred_2!=""?b.userId:0,given_administerred_3:n.given_3||n.given_administerred_3!=""?b.userId:0,updated_on:p(n.updated_on).format("YYYY-MM-DD HH:mm:ss"),Client:[n.client_id]};t.scheduled_1=n.scheduled_1?p(n.scheduled_1).format("YYYY-MM-DD"):null,t.scheduled_2=n.scheduled_2?p(n.scheduled_2).format("YYYY-MM-DD"):null,t.scheduled_3=n.scheduled_3?p(n.scheduled_3).format("YYYY-MM-DD"):null,t.given_1=n.given_1?p(n.given_1).format("YYYY-MM-DD"):null,t.given_2=n.given_2?p(n.given_2).format("YYYY-MM-DD"):null,t.given_3=n.given_3?p(n.given_3).format("YYYY-MM-DD"):null,t.created_on=p().format("YYYY-MM-DD HH:mm:ss"),console.log(t),console.log(P.value),P.value=="Update"?await la(t):await ta(t),h[n.vaccine_type]=await Promise.resolve(J(a.id,n.vaccine_type));let e="";e=`Congratulations!

`,e+="Baby "+a.firstname+" "+a.middlename+" "+a.lastname,n.vaccine_type=="bcg"?(e+=" is scheduled for BCG Vaccination on",e+=" "+p(t.scheduled_1).format("LL")+".",e+=` Please come on your schedule and bring the vaccination card when you visit the Health Center.

`,e+=`Ang bakuna nga BCG maga protekta sa mga bata batok sa sakit nga Tuberculosis o TB. Importante nga ang bata mabakunahan sa tukmang schedule arun siya ma depensahan batok sa maong sakit.

`,e+="Ang bakuna luwas ug epektibo. Ang BAKUNADO ay PROTEKTADO!",t.scheduled_1&&(t.given_1||D(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e))):n.vaccine_type=="hepb"?(e+=" is scheduled for HEPA B Vaccination on",e+=" "+p(t.scheduled_1).format("LL")+".",e+=` Please come on your schedule and bring the vaccination card when you visit the Health Center.

`,e+=`

`,e+="Ang bakuna luwas ug epektibo. Ang BAKUNADO ay PROTEKTADO!",t.scheduled_1&&(t.given_1||D(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e))):n.vaccine_type=="pentavalent"?(e+=" is scheduled for PENTAVALENT Vaccination on",t.scheduled_3?e+=" "+p(t.scheduled_3).format("LL")+".":t.scheduled_2?e+=" "+p(t.scheduled_2).format("LL")+".":e+=" "+p(t.scheduled_1).format("LL")+".",e+=` Please come on your schedule and bring the vaccination card when you visit the Health Center.

`,e+=`Ang Pentavalent Vaccine maga protektar sa bata batok sa sakit nga Diptheria, Tetanus, Hepa B, Pertussis, Pneumonia ug Meningitis.

`,e+=`Importante nga ang bata mabakunahan sa tukmang schedule ug makompleto ang 3 ka dose sa bakuna arun siya ma depensahan batok sa maong mga sakit.

`,e+="Ang bakuna luwas ug epektibo. Ang BAKUNADO ay PROTEKTADO!",t.scheduled_3?t.given_3||D(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e):t.scheduled_2?t.given_2||D(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e):t.scheduled_1&&(t.given_1||D(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e))):n.vaccine_type=="opv"?(e+=" is scheduled for OPV Vaccination on",t.scheduled_3?e+=" "+p(t.scheduled_3).format("LL")+".":t.scheduled_2?e+=" "+p(t.scheduled_2).format("LL")+".":e+=" "+p(t.scheduled_1).format("LL")+".",e+=` Please come on your schedule and bring the vaccination card when you visit the Health Center.

`,e+=`Ang bakuna nga OPV kon Oral Polio Vaccine maga protektar sa bata batok sa sakit nga Polio.

`,e+=`Importante nga ang bata mabakunahan sa tukmang schedule ug makompleto ang 3 ka dose sa bakuna arun siya ma depensahan batok sa maong mga sakit.

`,e+="Ang bakuna luwas ug epektibo. Ang BAKUNADO ay PROTEKTADO!",t.scheduled_3?t.given_3||D(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e):t.scheduled_2?t.given_2||D(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e):t.scheduled_1&&(t.given_1||D(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e))):n.vaccine_type=="ipv"?(e+=" is scheduled for IPV Vaccination on",e+=" "+p(t.scheduled_1).format("LL")+".",e+=` Please come on your schedule and bring the vaccination card when you visit the Health Center.

`,e+=`

`,e+="Ang bakuna luwas ug epektibo. Ang BAKUNADO ay PROTEKTADO!",t.scheduled_1&&(t.given_1||D(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e))):n.vaccine_type=="pcv"?(e+=" is scheduled for PCV Vaccination on",t.scheduled_3?e+=" "+p(t.scheduled_3).format("LL")+".":t.scheduled_2?e+=" "+p(t.scheduled_2).format("LL")+".":e+=" "+p(t.scheduled_1).format("LL")+".",e+=` Please come on your schedule and bring the vaccination card when you visit the Health Center.

`,e+=`Ang bakuna nga PCV kon Pneumococcal Conjugate Vaccine maga protektar sa bata batok sa sakit nga Pneumonia ug Meningitis.

`,e+=`Importante nga ang bata mabakunahan sa tukmang schedule ug makompleto ang 3 ka dose sa bakuna arun siya ma depensahan batok sa maong mga sakit.

`,e+="Ang bakuna luwas ug epektibo. Ang BAKUNADO ay PROTEKTADO!",t.scheduled_3?t.given_3||D(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e):t.scheduled_2?t.given_2||D(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e):t.scheduled_1&&(t.given_1||D(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e))):n.vaccine_type=="mcv"&&(e+=" is scheduled for MCV Vaccination on",t.scheduled_2?e+=" "+p(t.scheduled_2).format("LL")+".":e+=" "+p(t.scheduled_1).format("LL")+".",e+=` Please come on your schedule and bring the vaccination card when you visit the Health Center.

`,e+=`

`,e+="Ang bakuna luwas ug epektibo. Ang BAKUNADO ay PROTEKTADO!",t.scheduled_2?t.given_2||D(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e):t.scheduled_1&&(t.given_1||D(a.bhw_contact_number+"@"+a.guardian_contact_number+"@"+e))),ge({group:"success_dose",title:"Success",text:"Vaccine info was successfully updated!"},2e3)},we=async t=>{Y.value=!0,Ve(t)},Ve=async t=>{P.value="Update";const e=await da({id:t});console.log(e),a.id=e.id,a.bhw_address=e.bhw_address,a.bhw_contact_number=e.bhw_contact_number,a.bhw_name=e.bhw_name,a.birthdate=e.birthdate,a.birthplace=e.birthplace,a.client_address=e.client_address,a.client_barangay=e.client_barangay,a.created_by=e.created_by,a.guardian_address=e.guardian_address,a.guardian_barangay=e.guardian_barangay,a.guardian_alternate_number=e.guardian_alternate_number,a.guardian_contact_number=e.guardian_contact_number,a.guardian_name=e.guardian_name,a.health_provider_address=e.health_provider_address,a.health_provider_barangay=e.health_provider_barangay,a.health_provider_contact=e.health_provider_contact,a.health_provider_name=e.health_provider_name,a.remarks=e.remarks,a.is_active=e.is_active,a.firstname=e.firstname,a.lastname=e.lastname,a.middlename=e.middlename,a.sex=e.sex,a.vaccine_id=e.vaccine_id,a.created_on=e.created_on,a.updated_on=e.updated_on,h.pentavalent=await Promise.resolve(J(a.id,"pentavalent")),h.opv=await Promise.resolve(J(a.id,"opv")),h.pcv=await Promise.resolve(J(a.id,"pcv")),h.mcv=await Promise.resolve(ke(a.id,"mcv")),h.bcg=await Promise.resolve(O(a.id,"bcg")),h.hepb=await Promise.resolve(O(a.id,"hepb")),h.ipv=await Promise.resolve(O(a.id,"ipv")),console.log(h)},J=async(t,e)=>{const i=await me({client_id:t,vaccine_type:e,status:1});if(i.length>0){if(i[0].scheduled_3!="")return i[0].button_type3;if(i[0].scheduled_2!="")return i[0].button_type2;if(i[0].scheduled_1!="")return i[0].button_type1}else return""},ke=async(t,e)=>{const i=await me({client_id:t,vaccine_type:e,status:1});if(i.length>0){if(i[0].scheduled_2!="")return i[0].button_type2;if(i[0].scheduled_1!="")return i[0].button_type1}else return""},O=async(t,e)=>{const i=await me({client_id:t,vaccine_type:e,status:1});if(i.length>0){if(i[0].scheduled_1!="")return i[0].button_type1}else return""},re=async t=>{X.value=t},ue=()=>{P.value="Submit",Y.value=!1,ie("create")},m=v(()=>n.given_1);q(m,t=>{console.log(t),n.given_administerred_1=b.userFirstname+" "+b.userMiddlename+" "+b.userLastname});const u=v(()=>n.given_2);q(u,t=>{console.log(t),n.given_administerred_2=b.userFirstname+" "+b.userMiddlename+" "+b.userLastname});const g=v(()=>n.given_3);q(g,t=>{console.log(t),n.given_administerred_3=b.userFirstname+" "+b.userMiddlename+" "+b.userLastname});const M=v(()=>n.scheduled_1);q(M,t=>{console.log(t),n.scheduled_administerred_1=b.userFirstname+" "+b.userMiddlename+" "+b.userLastname});const w=v(()=>n.scheduled_2);q(w,t=>{console.log(t),n.scheduled_administerred_2=b.userFirstname+" "+b.userMiddlename+" "+b.userLastname});const r=v(()=>n.scheduled_3);return q(r,t=>{console.log(t),n.scheduled_administerred_3=b.userFirstname+" "+b.userMiddlename+" "+b.userLastname}),(t,e)=>{const i=Ue,_=Se,I=ia,x=oa,B=pe;return V(),H(le,null,[l(je,{onSearchClient:re},{default:s(()=>[l(Ee,null,{default:s(()=>[l(Pe,{icon:d(Ge),title:"Clients for new born baby",main:""},{default:s(()=>[l(y,{onClick:ue,type:"button",color:"info",label:"Create",icon:d(We),"data-bs-toggle":"modal","data-bs-target":"#clientModal"},null,8,["icon"])]),_:1},8,["icon"]),l(fe,{class:"mb-6","has-table":""},{default:s(()=>[l(Pa,{onClientInfo:we,search_keyword:X.value,form:K.value,checkable:""},null,8,["search_keyword","form"])]),_:1})]),_:1})]),_:1}),c("div",{class:"modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto",ref_key:"el_client_modal",ref:ee,id:"clientModal","data-bs-backdrop":"static","aria-labelledby":"exampleModalLgLabel","aria-modal":"true",role:"dialog"},[c("div",La,[c("div",Aa,[c("div",Ua,[l(Pe,{icon:d(Je),title:"Client Info",main:""},null,8,["icon"]),l(ze),l(fe,{"is-form":"",onSubmit:Me(ve,["prevent"])},{default:s(()=>[l(_,{label:"Personal Information",class:"text-xl"},{default:s(()=>[l(_,{label:"Vaccine Card Number ID",class:"text-sm"},{default:s(()=>[l(i,{modelValue:a.vaccine_id,"onUpdate:modelValue":e[0]||(e[0]=o=>a.vaccine_id=o),icon:d(Qe),readonly:!0},null,8,["modelValue","icon"])]),_:1}),l(i,{modelValue:a.firstname,"onUpdate:modelValue":e[1]||(e[1]=o=>a.firstname=o),icon:d(z),class:"mt-7",placeholder:"Firstname",required:""},null,8,["modelValue","icon"])]),_:1}),l(_,null,{default:s(()=>[l(i,{modelValue:a.middlename,"onUpdate:modelValue":e[2]||(e[2]=o=>a.middlename=o),icon:d(z),placeholder:"Middlename",required:""},null,8,["modelValue","icon"]),l(i,{modelValue:a.lastname,"onUpdate:modelValue":e[3]||(e[3]=o=>a.lastname=o),icon:d(z),placeholder:"Lastname",required:""},null,8,["modelValue","icon"])]),_:1}),l(_,null,{default:s(()=>[l(_,{label:"Birthdate"},{default:s(()=>[l(i,{modelValue:a.birthdate,"onUpdate:modelValue":e[4]||(e[4]=o=>a.birthdate=o),type:"date",icon:d(j),required:""},null,8,["modelValue","icon"])]),_:1}),l(i,{modelValue:a.birthplace,"onUpdate:modelValue":e[5]||(e[5]=o=>a.birthplace=o),icon:d(Xe),class:"mt-8",placeholder:"Birthplace",required:""},null,8,["modelValue","icon"])]),_:1}),l(_,{label:"Sex"},{default:s(()=>[l(I,{modelValue:a.sex,"onUpdate:modelValue":e[6]||(e[6]=o=>a.sex=o),name:"sex",type:"radio",options:{male:"Male",female:"Female"}},null,8,["modelValue"])]),_:1}),l(_,{label:"Client Address"},{default:s(()=>[l(i,{modelValue:a.client_address,"onUpdate:modelValue":e[7]||(e[7]=o=>a.client_address=o),options:A.value},null,8,["modelValue","options"])]),_:1}),l(x),l(_,{label:"Name of Parents / Guardian"},{default:s(()=>[l(i,{modelValue:a.guardian_name,"onUpdate:modelValue":e[8]||(e[8]=o=>a.guardian_name=o),icon:d(z),placeholder:"Firstname Middlename Lastname",required:""},null,8,["modelValue","icon"])]),_:1}),l(_,null,{default:s(()=>[l(i,{modelValue:a.guardian_contact_number,"onUpdate:modelValue":e[9]||(e[9]=o=>a.guardian_contact_number=o),icon:d(ce),placeholder:"Contact Number",required:""},null,8,["modelValue","icon"]),l(i,{modelValue:a.guardian_alternate_number,"onUpdate:modelValue":e[10]||(e[10]=o=>a.guardian_alternate_number=o),icon:d(ce),placeholder:"Alternate Number",required:""},null,8,["modelValue","icon"])]),_:1}),l(_,{label:"Parent/Guardian Address"},{default:s(()=>[l(i,{modelValue:a.guardian_address,"onUpdate:modelValue":e[11]||(e[11]=o=>a.guardian_address=o),options:A.value,required:""},null,8,["modelValue","options"])]),_:1}),l(x),l(_,{label:"Name of BHW"},{default:s(()=>[l(i,{modelValue:a.bhw_name,"onUpdate:modelValue":e[12]||(e[12]=o=>a.bhw_name=o),icon:d(z),placeholder:"Firstname Middlename Lastname",required:""},null,8,["modelValue","icon"])]),_:1}),l(_,null,{default:s(()=>[l(_,{label:"BHW contact number"},{default:s(()=>[l(i,{modelValue:a.bhw_contact_number,"onUpdate:modelValue":e[13]||(e[13]=o=>a.bhw_contact_number=o),icon:d(ce),placeholder:"Contact Number",required:""},null,8,["modelValue","icon"])]),_:1}),l(_,{label:"BHW Address"},{default:s(()=>[l(i,{modelValue:a.bhw_address,"onUpdate:modelValue":e[14]||(e[14]=o=>a.bhw_address=o),options:A.value,required:""},null,8,["modelValue","options"])]),_:1})]),_:1}),l(x),l(_,{label:"Name of Health Provider"},{default:s(()=>[l(i,{modelValue:a.health_provider_name,"onUpdate:modelValue":e[15]||(e[15]=o=>a.health_provider_name=o),icon:d(z),placeholder:"Firstname Middlename Lastname"},null,8,["modelValue","icon"])]),_:1}),l(_,null,{default:s(()=>[l(_,{label:"Health Provider Contact Number"},{default:s(()=>[l(i,{modelValue:a.health_provider_contact,"onUpdate:modelValue":e[16]||(e[16]=o=>a.health_provider_contact=o),icon:d(ce),placeholder:"Contact Number"},null,8,["modelValue","icon"])]),_:1}),l(_,{label:"Health Provider Address"},{default:s(()=>[l(i,{modelValue:a.health_provider_address,"onUpdate:modelValue":e[17]||(e[17]=o=>a.health_provider_address=o),options:A.value},null,8,["modelValue","options"])]),_:1})]),_:1}),l(_,{label:"Remarks"},{default:s(()=>[l(i,{modelValue:a.remarks,"onUpdate:modelValue":e[18]||(e[18]=o=>a.remarks=o),type:"textarea",required:""},null,8,["modelValue"])]),_:1}),Y.value?(V(),de(x,{key:0})):te("",!0),Y.value?(V(),de(_,{key:1,label:"Vaccine Type"},{default:s(()=>[l(B,null,{default:s(()=>[l(y,{color:h.bcg,label:"BCG",icon:d(R),small:d(k),outline:d(N),disabled:d(C),"rounded-full":d(L),onClick:e[19]||(e[19]=o=>S("bcg"))},null,8,["color","icon","small","outline","disabled","rounded-full"]),l(y,{color:h.hepb,label:"HepB",icon:d(R),small:d(k),outline:d(N),disabled:d(C),"rounded-full":d(L),onClick:e[20]||(e[20]=o=>S("hepb"))},null,8,["color","icon","small","outline","disabled","rounded-full"]),l(y,{color:h.pentavalent,label:"Pentavalent",icon:d(R),small:d(k),outline:d(N),disabled:d(C),"rounded-full":d(L),onClick:e[21]||(e[21]=o=>S("pentavalent"))},null,8,["color","icon","small","outline","disabled","rounded-full"]),l(y,{color:h.opv,label:"OPV",icon:d(R),small:d(k),outline:d(N),disabled:d(C),"rounded-full":d(L),onClick:e[22]||(e[22]=o=>S("opv"))},null,8,["color","icon","small","outline","disabled","rounded-full"]),l(y,{color:h.ipv,label:"IPV",icon:d(R),small:d(k),outline:d(N),disabled:d(C),"rounded-full":d(L),onClick:e[23]||(e[23]=o=>S("ipv"))},null,8,["color","icon","small","outline","disabled","rounded-full"]),l(y,{color:h.pcv,label:"PCV",icon:d(R),small:d(k),outline:d(N),disabled:d(C),"rounded-full":d(L),onClick:e[24]||(e[24]=o=>S("pcv"))},null,8,["color","icon","small","outline","disabled","rounded-full"]),l(y,{color:h.mcv,label:"MCV",icon:d(R),small:d(k),outline:d(N),disabled:d(C),"rounded-full":d(L),onClick:e[25]||(e[25]=o=>S("mcv"))},null,8,["color","icon","small","outline","disabled","rounded-full"])]),_:1})]),_:1})):te("",!0),l(x),l(B,null,{default:s(()=>[l(y,{type:"submit",color:"info",label:P.value},null,8,["label"]),l(y,{type:"button",color:"info",outline:"",label:"Close","data-bs-dismiss":"modal","aria-label":"Close"})]),_:1})]),_:1},8,["onSubmit"])])])])],512),c("div",{class:"modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto",id:"vaccineeModal","data-bs-backdrop":"static",ref_key:"el_dose_modal",ref:ae,"aria-labelledby":"exampleModalLgLabel","aria-modal":"true",role:"dialog"},[c("div",Sa,[c("div",Oa,[Ba,c("div",Ha,[l(fe,{"is-form":"",onSubmit:Me(ye,["prevent"])},{default:s(()=>[l(_,{label:"1st Dose",status:n.status1,button_type:n.button_type1},{default:s(()=>[l(_,{label:"Date Scheduled",help:n.scheduled_1?n.scheduled_administerred_1:""},{default:s(()=>[l(i,{id:"dt1",modelValue:n.scheduled_1,"onUpdate:modelValue":e[26]||(e[26]=o=>n.scheduled_1=o),type:"date",icon:d(j),placeholder:"Date Scheduled"},null,8,["modelValue","icon"])]),_:1},8,["help"]),l(_,{label:"Date Given",help:n.given_1?n.given_administerred_1:""},{default:s(()=>[l(i,{id:"dt2",modelValue:n.given_1,"onUpdate:modelValue":e[27]||(e[27]=o=>n.given_1=o),type:"date",icon:d(j),placeholder:"Date Given"},null,8,["modelValue","icon"])]),_:1},8,["help"])]),_:1},8,["status","button_type"]),n.vaccine_type=="mcv"||n.vaccine_type=="pentavalent"||n.vaccine_type=="opv"||n.vaccine_type=="pcv"?(V(),de(_,{key:0,label:"2nd Dose",status:n.status2,button_type:n.button_type2},{default:s(()=>[l(_,{label:"Date Scheduled",help:n.scheduled_2?n.scheduled_administerred_2:""},{default:s(()=>[l(i,{id:"dt3",modelValue:n.scheduled_2,"onUpdate:modelValue":e[28]||(e[28]=o=>n.scheduled_2=o),type:"date",icon:d(j),placeholder:"Date Scheduled"},null,8,["modelValue","icon"])]),_:1},8,["help"]),l(_,{label:"Date Given",help:n.given_2?n.given_administerred_2:""},{default:s(()=>[l(i,{id:"dt4",modelValue:n.given_2,"onUpdate:modelValue":e[29]||(e[29]=o=>n.given_2=o),type:"date",icon:d(j),placeholder:"Date Given"},null,8,["modelValue","icon"])]),_:1},8,["help"])]),_:1},8,["status","button_type"])):te("",!0),n.vaccine_type=="pentavalent"||n.vaccine_type=="opv"||n.vaccine_type=="pcv"?(V(),de(_,{key:1,label:"3rd Dose",status:n.status3,button_type:n.button_type3},{default:s(()=>[l(_,{label:"Date Scheduled",help:n.scheduled_3?n.scheduled_administerred_3:""},{default:s(()=>[l(i,{id:"dt5",modelValue:n.scheduled_3,"onUpdate:modelValue":e[30]||(e[30]=o=>n.scheduled_3=o),type:"date",icon:d(j),placeholder:"Date Scheduled"},null,8,["modelValue","icon"])]),_:1},8,["help"]),l(_,{label:"Date Given",help:n.given_3?n.given_administerred_3:""},{default:s(()=>[l(i,{id:"dt6",modelValue:n.given_3,"onUpdate:modelValue":e[31]||(e[31]=o=>n.given_3=o),type:"date",icon:d(j),placeholder:"Date Given"},null,8,["modelValue","icon"])]),_:1},8,["help"])]),_:1},8,["status","button_type"])):te("",!0),l(B,null,{default:s(()=>[l(y,{type:"submit",color:"info",label:P.value},null,8,["label"]),l(y,{type:"button",color:"info",outline:"",label:"Close","data-bs-dismiss":"modal","aria-label":"Close"})]),_:1})]),_:1},8,["onSubmit"])])])])],512)],64)}}});const Na=sa(Ia,[["__scopeId","data-v-b5ece763"]]);export{Na as default};
